<div class="chat-container">
    <h2>Chat</h2>
    <div class="chat-users">
        <h3>Users</h3>
        <ul>
            <li *ngFor="let user of users" [class.selected]="user.id === selectedUserId">
                <span (click)="selectUser(user)">{{ user.name }}</span>
                <button (click)="blockUser(user.id)">Block</button>
            </li>
        </ul>
    </div>
    <div class="chat-messages" *ngIf="selectedUserId">
        <h3>Chat with {{ selectedUserName }}</h3>
        <div class="messages">
            <div *ngFor="let message of messages" [class.me]="message.senderId === userId"
                [class.other]="message.senderId !== userId">
                <p>{{ message.content }}</p>
                <span>{{ message.timestamp | date:'short' }}</span>
            </div>
        </div>
        <form (ngSubmit)="sendMessage()">
            <input type="text" [(ngModel)]="newMessage" placeholder="Type your message" name="message" required>
            <button type="submit">Send</button>
        </form>
    </div>
</div>